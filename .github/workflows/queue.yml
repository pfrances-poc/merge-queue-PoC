name: Validate code in the merge queue

on:
  merge_group:

jobs:
  validate-pr:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
      
      - name: Simulate long running tests (like your work repo)
        run: |
          echo "ğŸš€ Starting long running CI simulation (30 minutes like your work repo)"
          echo "â±ï¸  This simulates: build, tests, security scans, etc."
          
          # Simulate different phases of a real CI
          echo "ğŸ“¦ Phase 1/4: Building application..."
          sleep 450  # 7.5 minutes
          
          echo "ğŸ§ª Phase 2/4: Running unit tests..."
          sleep 450  # 7.5 minutes
          
          echo "ğŸ” Phase 3/4: Integration tests..."
          sleep 450  # 7.5 minutes
          
          echo "ğŸ›¡ï¸  Phase 4/4: Security & quality checks..."
          sleep 450  # 7.5 minutes
          
          echo "âœ… All phases completed successfully!"
      
      - name: Final merge queue validation
        run: echo "âœ… Ready to merge - CI passed after 30 minutes"
