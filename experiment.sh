#!/bin/bash

echo "üß™ MERGE QUEUE EXPERIMENT CONFIGURATIONS"
echo "========================================"
echo ""
echo "üìã Your current configuration from GitHub settings:"
echo "---------------------------------------------------"
echo "‚Ä¢ Build concurrency: 5"
echo "‚Ä¢ Minimum group size: 1" 
echo "‚Ä¢ Maximum group size: 5"
echo "‚Ä¢ Wait time: 5 minutes"
echo "‚Ä¢ CI duration: 30 minutes (simulated)"
echo ""

echo "üéØ EXPERIMENT SCENARIOS:"
echo "------------------------"
echo ""

echo "1Ô∏è‚É£  SCENARIO 1: Test current config with rapid PR creation"
echo "   ‚Üí Run: ./batch-test.sh"
echo "   ‚Üí Expected: Should see some batching due to 30min CI"
echo ""

echo "2Ô∏è‚É£  SCENARIO 2: Change to force larger batches"
echo "   ‚Üí Manually change GitHub settings to:"
echo "     - Minimum group size: 3"
echo "     - Wait time: 10 minutes"
echo "   ‚Üí Then run: ./batch-test.sh"
echo "   ‚Üí Expected: PRs will wait for groups of 3+"
echo ""

echo "3Ô∏è‚É£  SCENARIO 3: Test with immediate individual merges"
echo "   ‚Üí Change settings to:"
echo "     - Minimum group size: 1"
echo "     - Wait time: 0 minutes"
echo "   ‚Üí Expected: Each PR processes individually"
echo ""

echo "üìä MONITORING:"
echo "-------------"
echo "During any test, run: ./monitor.sh"
echo "This will show real-time merge queue activity"
echo ""

echo "üîç KEY THINGS TO OBSERVE:"
echo "------------------------"
echo "‚Ä¢ Do multiple PRs get 1 shared CI run?"
echo "‚Ä¢ How long does the queue wait before processing?"
echo "‚Ä¢ What happens when CI fails in a group?"
echo "‚Ä¢ Build concurrency vs actual parallel runs"
echo ""

echo "‚ö° READY TO START?"
echo "Run: ./batch-test.sh (in one terminal)"
echo "Run: ./monitor.sh (in another terminal)"